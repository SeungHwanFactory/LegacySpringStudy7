# LegacySpringStudy7
파일업로드

---

## 흐름

* 첨부파일을 위한 설정
  * 자바이용해서 처리함
* Ajax를 활용해서 업로드 실습 진행
  * jQuery이용해서 첨부파일 전송
> 파일 업로드 시 고려사항?
  > * 동일한 파일이 업로드 될때 기존 파일이 사라지는 점
  > * 이미지 파일 경우 용량이 클 때, 썸네일로 생성하게 끔 하는 법
  > * 이미지 파일과 일반 파일을 구분해서 업로드
  > * 확장자 제한해서 첨부파일 공격을 막는 법
* 파일 확장자, 사이즈 제한
  * 중복된 이름 처리
  * 년/월/일 폴더 이용했음
  * 중복 방지를 위한 UUID 사용
* 섬네일 생성
  * thumbnailator 라이브러리 사용
* 업로드된 파일 데이터 반환
* 브라우저에서 섬네일 처리
* 첨부파일 다운로드
  * 업로드 된 후 다운로드 처리
  * 원본이미지 보여주기
* 첨부파일 삭제
  * 일반파일 이미지파일 삭제
> 첨부파일 삭제 고민?
  > * 사용자가 비정상적으로 종료했을 시 어떻게 삭제할거냐?
  > * spring-batch나 Quartz를 사용하는데 Quratz로 구현
  > * batch에 대해서도 학습하자.

* 잘못 업로드된 파일 삭제
  * Quartz 라이브러리 설정
  * cron설정 과 삭제
